# تعليمات إعداد Supabase

## الخطوة 1: إنشاء الجداول في Supabase

1. افتح موقع Supabase: https://supabase.com
2. سجل الدخول إلى حسابك
3. من القائمة الجانبية، اضغط على **SQL Editor**
4. اضغط على **New query**
5. انسخ محتوى ملف `scripts/supabase-setup.sql` بالكامل
6. الصق الكود في المحرر
7. اضغط على زر **Run** (تشغيل) في الأسفل
8. انتظر حتى تظهر رسالة "Success" ✅

## الخطوة 2: التحقق من إنشاء الجداول

بعد تشغيل SQL:
1. اذهب إلى **Table Editor** من القائمة الجانبية
2. يجب أن ترى الجداول التالية:
   - ✅ users (المستخدمين)
   - ✅ customers (العملاء)
   - ✅ product_groups (مجموعات المنتجات)
   - ✅ products (المنتجات)
   - ✅ orders (الطلبيات)
   - ✅ notifications (الإشعارات)

## الخطوة 3: التحقق من البيانات الافتراضية

1. في **Table Editor**، افتح جدول **users**
2. يجب أن ترى مستخدم واحد:
   - Username: admin
   - Password: admin
   - Role: admin

## الخطوة 4: الربط مع التطبيق

✅ **تم بالفعل!** التطبيق الآن متصل بـ Supabase باستخدام المفاتيح:
- Project URL: `https://lkmxjeksejjrvazgyxdi.supabase.co`
- Anon Key: تم إضافته في ملف `lib/supabase-client.ts`

## الخطوة 5: اختبار الاتصال

1. افتح التطبيق
2. سجل الدخول بـ: `admin` / `admin`
3. أضف مندوب جديد
4. ارجع إلى Supabase > Table Editor > users
5. يجب أن ترى المندوب الجديد في الجدول ✅

## مشاكل شائعة وحلولها

### المشكلة: "relation does not exist"
**الحل:** لم يتم إنشاء الجداول. كرر الخطوة 1.

### المشكلة: "permission denied"
**الحل:** تأكد من تفعيل RLS Policies. الكود في supabase-setup.sql يفعلها تلقائياً.

### المشكلة: البيانات لا تظهر
**الحل:** 
1. افتح Console في المتصفح (F12)
2. ابحث عن أخطاء تبدأ بـ `[v0]`
3. تأكد من صحة المفاتيح في `lib/supabase-client.ts`

## الفرق بين localStorage و Supabase

**قبل (localStorage):**
- البيانات محفوظة في المتصفح فقط
- كل مستخدم يرى بياناته فقط
- تُمسح البيانات عند مسح المتصفح

**بعد (Supabase):**
- البيانات محفوظة على الإنترنت
- جميع المستخدمين يشاهدون نفس البيانات
- المندوب يرسل طلبية → تصل للمدير فوراً
- البيانات محفوظة بشكل دائم

## التكلفة

- **مجاني**: حتى 500 MB تخزين + 2 GB bandwidth شهرياً
- **كافي لـ**: 10-20 مندوب + 100+ طلبية يومياً
- **إذا احتجت أكثر**: $25/شهر للخطة Pro

## الدعم

إذا واجهت أي مشكلة، تأكد من:
1. نسخ كود SQL بالكامل بدون أخطاء
2. المفاتيح صحيحة في `lib/supabase-client.ts`
3. الإنترنت متصل
